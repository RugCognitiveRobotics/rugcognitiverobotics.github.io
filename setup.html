<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Cognitive Robotics Course</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="icon" href="images/favicon.ico">
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
							<header id="header">
								<a href="http://www.ai.rug.nl/hkasaei" target="_blank" class="logo"><strong>Cognitive Robotics Course (WMAI19001)</strong> - Hamidreza Kasaei </a>
								<ul class="icons">
									<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
									<li><a href="#" class="icon fa-snapchat-ghost"><span class="label">Snapchat</span></a></li>
									<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
									<li><a href="#" class="icon fa-medium"><span class="label">Medium</span></a></li>
								</ul>
							</header>

							<!-- Content -->
								<section>
									
									
									<span class="image main"><img src="images/banner.jpg" alt="" /></span>

									<header class="main">
											<h1>Setting up your workspace </h1>
										</header>
									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
										Before installing, have a glance through this guide and take note of the details for your platform. 
										We install and test RACE cognitive robotic framework on 
										<b><a href = "https://www.ubuntu.com/" target="_blank" class="external text" title="" rel="nofollow" style="color: rgb(0,0, 255);"> Ubuntu desktop (18.04 LTS)</a></b> and 
										<b><a href = "http://wiki.ros.org/melodic" target="_blank" class="external text" title="" rel="nofollow" style="color: rgb(0,0, 255);"> ROS Melodic</a></b>.
										 For your convenience, 
										we provide a bash script to install the RACE framework and all necessary packages and dependencies.  
										We also set up everything in a virtual machine that can be downloaded from this link:  <b style="color: rgb(0, 0, 255);">TBD</b> 
									</p>	
										
									
									<hr class="major" />
									<h2>Prerequisites</h2>
									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
										There are certain steps that should be taken before installing the RACE framework to help make sure that you will have a successful installation.
									</p>
									<h3>1. Install operating system (Ubuntu 18.04 LTS)</h3>
									<div class="box">
										<p> <b><a href = "https://www.ubuntu.com/" target="_blank" class="external text" title="" rel="nofollow" style="color: rgb(0,0, 255);"> Download and install Ubuntu desktop (18.04 LTS)</a></b>
										(only Ubuntu 18.04 LTS is compatible with ROS Melodic at the moment) </p>
									</div>	

									<h3>2. Download ROS packages</h3>
									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
										Download and unzip the <b style="color: rgb(0, 0, 255);"> catkin_ws</b> and  <b style="color: rgb(0, 0, 255);"> rosbuild_ws </b> 
										packages and unzip them into your  <b style="color: rgb(0, 0, 255);">/home </b>directory:
									</p>
<pre><code>
cd ~/
wget link_to_download_catkin_ws_and_rosbuild_ws <b style="color: rgb(0, 0, 255);"> (TBD)</b> 
tar race_framework_v1.gz -C ~/
</code></pre>

									<h3>3. Setting up environment</h3>

									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
										
										Open a terminal and type:
									</p>
									<div class="box">
										<p> gedit   ~/.bashrc</p>
									</div>	
								
									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
										afterwards, copy and paste the following lines at the end of your .bashrc file.
										This way, the ROS environment variables are added to your bash session every time a new shell is launched.
										It should be noted that <b style="color: rgb(0, 0, 255);">cognitiverobotics</b> should be replaced by your computer username 
										(by opening a terminal, you can find your username e.g., <b style="color: rgb(0, 0, 255);">username</b>@ubuntu)
									</p>
									
									<pre><code>
##Add ROS catkin_ws and rosbuild_ws workspaces
source /opt/ros/melodic/setup.bash
export LD_LIBRARY_PATH=/opt/ros/melodic/lib:/opt/ros/melodic/include/moveit:${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}
export ROS_PACKAGE_PATH=/home/<b style="color: rgb(0, 0, 255);">cognitiverobotics</b>/catkin_ws/:/home/<b style="color: rgb(0, 0, 255);">cognitiverobotics</b>/rosbuild_ws/:/home/<b style="color: rgb(0, 0, 255);">cognitiverobotics</b>/moveit_ws/:/opt/ros/melodic/include:$ROS_PACKAGE_PATH
export ROBOT=sim
export PATH=~/bin:$PATH

#The following line allows rosbuild packages to be depended to catkin packages
#https://answers.ros.org/question/105231/how-to-make-rosbuild-package-depend-on-catkin-package/
export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/home/<b style="color: rgb(0, 0, 255);">cognitiverobotics</b>/catkin_ws/devel/lib/pkgconfig:/home/<b style="color: rgb(0, 0, 255);">cognitiverobotics</b>/moveit_ws/devel/lib/pkgconfig
export PATH="$PATH:$HOME/bin"
export PATH=/usr/lib/python2.7/:$PATH

#This line is necessary for MoveIt!, otherwise the robot seems broken
export LC_NUMERIC="en_US.UTF-8" 

#This line forces the system to use python2 by default since the ROS works based on python2
alias python='/usr/bin/python2.7'  
									</code></pre>
									<hr class="major" />
									<!-- ******************************************************** -->
									<!-- ******************************************************** -->
									<!-- ******************************************************** -->
									<h2>Install RACE framework</h2>
									<!-- ******************************************************** -->
									<!-- ******************************************************** -->
									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
										Installing the RACE framework is a very simple process and takes less than ten minutes to complete.  We provide three methods 
										to install the RACE framework.  
									</p>

									<h3 style="color:  rgb(255, 0, 0)"> Method 1: Install using bash script (Recommended) </h3>
									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
										First, download <a href = "" target="_blank" class="external text" title="" rel="nofollow" style="color: rgb(0,0, 255);"> setup_race_framework.sh</a> script.
									</br>Then, open a terminal, give appropriate permissions to the script and finally run it: </p>		
<pre><code>
chmod 777 setup_race_framework.sh 
./setup_race_framework.sh
</code></pre>

									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt"> 
											That’s it! RACE should now be installed. </br>
											If you are intersted to know what does “chmod 777” mean, <a href = "https://www.maketecheasier.com/file-permissions-what-does-chmod-777-means/" target="_blank" class="external text" title="" rel="nofollow" style="color: rgb(0,0, 255);"> read this article</a>
										</p>
										
								<!-- ******************************************************** -->
								<!-- ******************************************************** -->

								<h3 style="color:  rgb(255, 0, 0)"> Method 2: Step-by-step instructions </h3>

									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt">  
										Following are step-by-step instructions for installing  the RACE cognitive robtoic framewrok.
									</p>
																		
									<h4>Step 1. Install ROS Melodic </h4>
									<div class="box">
										<p> <b><a href = "http://wiki.ros.org/melodic/Installation/Ubuntu" target="_blank" class="external text" title="" rel="nofollow" style="color: rgb(0,0, 255);"> This tutorial </a></b>
									walks you through installing ROS Melodic and setting up the ROS environment on your computer.</p>
									</div>
								
									<h4>Step 2. Install required packages </h4>
									<div class="box"> 
										<b>sudo apt-get install </b> ros-melodic-desktop-full ros-melodic-hector-gazebo ros-melodic-openni-camera ros-melodic-roslisp python-rosinstall 
										python-rdflib mercurial git openjdk-11-jdk libcgal-dev libpcl-dev libpstreams-dev libgraphviz-dev python-shapely python-networkx python-nltk 
										python-pip libsnappy-dev ros-melodic-catkin python-catkin-tools libusb-dev libspnav-dev libbluetooth-dev libcwiid-dev 
										ros-melodic-rviz-visual-tools build-essential cmake doxygen libqt4-dev libqt4-opengl-dev libqglviewer-dev-qt4 ros-melodic-moveit
									</div>

									
									<h4>Step 3. Install LevelDB </h4>
<pre><code>
mkdir -p /tmp/leveldb && cd /tmp/leveldb
wget https://github.com/google/leveldb/archive/v1.14.tar.gz
tar -xzf v1.14.tar.gz
cd leveldb-1.14/
make -j4
sudo cp -R include/leveldb /usr/local/include  
sudo mv libleveldb.* /usr/local/lib
sudo ldconfig
</code></pre>

								
									<h4>Step 4. Building libfranka for Panda robot </h4>

<pre><code>
cd ~/
sudo apt install build-essential libpoco-dev libeigen3-dev
git clone --recursive https://github.com/frankaemika/libfranka
cd libfranka && mkdir build && cd build
cmake -DCMAKE_BUILD_TYPE=Release ..
cmake --build .
</code></pre>

									<h4>Step 5. Make all catkin_ws packages </h4>

<pre><code>
cd ~/catkin_ws 
sudo rosdep init
rosdep update
rosdep install --from-paths src --ignore-src --rosdistro melodic -y --skip-keys libfranka
catkin_make -DCMAKE_BUILD_TYPE=Release -DFranka_DIR:PATH=/home/cognitiverobotics/libfranka/build
</code></pre>

									<h4>Step 6. Make all rosbuild_ws packages </h4>

<pre><code>
cd ~/rosbuild_ws/arm_navigation_msgs/
rosmake --target=clean

cd ~/rosbuild_ws/
rosmake * --threads=1

cd imperial_3d_object_tracking
make clean && rm -r build && rm -r bin && rm -r lib
make -j4
</code></pre>

<hr class="major" />

									<!-- ******************************************************** -->
									<!-- ******************************************************** -->

									<h3 style="color:  rgb(255, 0, 0)"> Method 3: Download virtual machine </h3>

									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt">  
										In general, virtual machines are much slower than the primary operating system and therefore should be considered as the last option in our 
										course, or just use it to get familiar with the framework. You can download the virtual machine <b style="color: rgb(0, 0, 255);">here [TBD]</b>
									</p>
									
									<hr class="major" />
									<!-- ******************************************************** -->
									<!-- ******************************************************** -->
									<!-- ******************************************************** -->
									<h2>Troubleshooting</h2>
									<!-- ******************************************************** -->
									<!-- ******************************************************** -->
									<!-- ******************************************************** -->
									<p style="text-align: justify; color: rgb(0, 0, 0);font-size: 14pt">
										Here we provide a list of common errors and explain how to fix them. If the problem isn’t clear and you aren’t sure what to do next, contact TAs. 
									<p>
									
									<div class="box">
										<p><b style="color: rgb(0, 0, 255);">[ERROR] Could not get lock /var/lib/dpkg/lock’ </b> : 
											dpkg has been locked by other programs -- wait for a while and try it again
										</p>
									</div>
									<hr class="major" />

									
								</section>

						</div>
					</div>
<!-- Sidebar -->
<div id="sidebar">
		<div class="inner">

			<!-- Menu -->
				<nav id="menu">
					<header class="major">
						<h2>Menu</h2>
					</header>
					
					<ul>
						
						<li><a href="https://rugcognitiverobotics.github.io/#banner">Course Description</a></li>
						<li><a href="https://rugcognitiverobotics.github.io/#LO">Learning Objectives</a></li>
						<li><a href="https://rugcognitiverobotics.github.io/#PQ">Prerequisites</a></li>
						<li><a href="https://rugcognitiverobotics.github.io/#CF">Class Format</a></li>
						<li><a href="https://rugcognitiverobotics.github.io/#LT">List of Topic</a></li>
						<li><a href="https://rugcognitiverobotics.github.io/#CWQP">Coursework and Grading Policies</a></li>
					</ul>
				</nav>


			<!-- Section -->
				<section>
					<header class="major">
						<h2>Get in touch</h2>
					</header>
					<p> <b style="color: rgb(255, 0, 0);">Hamidreza Kasaei</b> (Course Coordinator)</p>
					<ul class="contact">
						<li class="fa-envelope-o">hamidreza.kasaei@rug.nl</li>
						<li class="fa-dribbble"><a href="http://www.ai.rug.nl/hkasaei" target="_blank"> www.ai.rug.nl/hkasaei</a></li>
						<li class="fa-home">Office #350, Bernoulliborg building, University of Groningen.</li>
					</ul>
					<p> <b style="color: rgb(255, 0, 0);">TBD</b> (Teaching Assistant)</p>
					<ul class="contact">
						<li class="fa-envelope-o">TBD@student.rug.nl</li>
						<li class="fa-envelope-o">cognitiverobotic@gmail.com</li>
						
					<!--<li class="fa-home"><a href="#">Office #350, Bernoulliborg building, University of Groningen. </a></li>-->
					</ul>
				</section>

		</div>
	</div>

</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>

	</body>
</html>